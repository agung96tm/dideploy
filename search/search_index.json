{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":[" "],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Dideploy \u2014 K3s","text":"<p>Panduan K3s untuk jalankan Kubernetes di server sendiri (VPS atau bare metal) \u2014 dari pasang sampai storage, load balancer, dan ingress. Semua dalam Bahasa Indonesia.</p>"},{"location":"#kenapa-ada-situs-ini","title":"Kenapa ada situs ini?","text":"<p>Banyak yang mau jalankan Kubernetes di server sendiri (VPS atau bare metal) pakai K3s, tapi panduan sering tersebar dan kebanyakan bahasa Inggris. Situs ini ada untuk ngehimpun panduan K3s dalam satu tempat, terstruktur, dan dalam Bahasa Indonesia \u2014 dari pasang K3s, persistent storage (Longhorn), LoadBalancer (MetalLB), sampai Ingress (Traefik). Tujuannya: siapa saja bisa ikut langkah yang sama untuk deploy di lingkungan self-hosted tanpa harus nebak-nebak dokumentasi.</p>"},{"location":"#isi-dokumentasi","title":"Isi dokumentasi","text":"<ul> <li>Tutorials \u2014 Mulai dari nol: pasang K3s, konfigurasi kubectl, deploy contoh.</li> <li>How-to Guides \u2014 Langkah praktis: cluster multi-node, MetalLB (LoadBalancer), dan lain-lain.</li> <li>Reference \u2014 Acuan singkat: Traefik (Ingress K3s), konfigurasi.</li> <li>Explanation \u2014 Penjelasan konsep dan arsitektur.</li> </ul>"},{"location":"#progress-dokumentasi","title":"Progress dokumentasi","text":"<p>Dokumentasi masih terus ditambah. Perkiraan progress saat ini:</p> <p>20% \u2014 \u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591</p> <ul> <li>Sudah: K3s getting started, Longhorn (tutorial + how-to), Let's Encrypt (tutorial + how-to), MetalLB, Traefik &amp; config (referensi), Architecture (explanation).</li> <li>Rencana: lebih banyak how-to, troubleshooting, contoh deploy app lengkap, dan penjelasan konsep.</li> </ul> <p>Mulai dari Memulai dengan K3s kalau baru pertama kali pakai K3s.</p>"},{"location":"#donasi","title":"Donasi","text":"<p>Kalau panduan ini bermanfaat dan mau support pengembangan dokumentasi, bisa lewat Saweria atau Trakteer. Terima kasih.</p>"},{"location":"how-to/000-k3s-multi-node/","title":"How-to: Cluster K3s Multi-Node","text":"<p>Panduan singkat menambah worker node ke cluster K3s (1 control-plane + N worker).</p>"},{"location":"how-to/000-k3s-multi-node/#prasyarat","title":"Prasyarat","text":"<ul> <li>K3s sudah terpasang di satu server sebagai control-plane.</li> <li>1 server node (control-plane) dan N worker node (Linux).</li> <li>Akses SSH ke semua node.</li> </ul>"},{"location":"how-to/000-k3s-multi-node/#1-di-server-node-control-plane","title":"1. Di server node (control-plane)","text":""},{"location":"how-to/000-k3s-multi-node/#ambil-token-join","title":"Ambil token join","text":"<p>Token dipakai worker untuk bergabung ke cluster:</p> <pre><code>sudo cat /var/lib/rancher/k3s/server/node-token\n</code></pre> <p>Salin token yang tampil (string panjang). Simpan untuk langkah di worker.</p>"},{"location":"how-to/000-k3s-multi-node/#catat-ip-server","title":"Catat IP server","text":"<p>Di server node, cek alamat IP yang dipakai worker untuk mengakses API (biasanya IP LAN):</p> <pre><code>ip a\n</code></pre> <p>Contoh: <code>192.168.1.10</code>. Ganti dengan IP server kamu di langkah worker.</p>"},{"location":"how-to/000-k3s-multi-node/#2-di-setiap-worker-node","title":"2. Di setiap worker node","text":"<p>Di setiap mesin yang akan jadi worker:</p> <ol> <li>Ganti <code>IP_SERVER</code> dengan IP server (misalnya <code>192.168.1.10</code>)</li> <li>Ganti <code>TOKEN_DARI_SERVER</code> dengan token dari Langkah 1</li> </ol> <p>Lalu jalankan:</p> <pre><code>curl -sfL https://get.k3s.io | \\\n  K3S_URL=https://IP_SERVER:6443 \\\n  K3S_TOKEN=TOKEN_DARI_SERVER \\\n  sh -\n</code></pre> <p>Contoh nyata:</p> <pre><code>curl -sfL https://get.k3s.io | \\\n  K3S_URL=https://192.168.1.10:6443 \\\n  K3S_TOKEN=K10abc123... \\\n  sh -\n</code></pre> <p>Tunggu sampai instalasi selesai. Layanan <code>k3s-agent</code> akan berjalan di worker.</p>"},{"location":"how-to/000-k3s-multi-node/#3-verifikasi","title":"3. Verifikasi","text":"<p>Kembali ke server node (control-plane). Pastikan <code>KUBECONFIG</code> sudah di-set (lihat Memulai dengan K3s), lalu:</p> <pre><code>kubectl get nodes\n</code></pre> <p>Contoh keluaran:</p> <pre><code>NAME        STATUS   ROLES                  AGE   VERSION\nserver-1    Ready    control-plane,master   10m   v1.xx.x+k3s\nworker-1    Ready    &lt;none&gt;                  5m   v1.xx.x+k3s\nworker-2    Ready    &lt;none&gt;                  3m   v1.xx.x+k3s\n</code></pre> <p>Semua node dengan status Ready berarti cluster multi-node kamu sudah berjalan.</p>"},{"location":"how-to/000-k3s-multi-node/#troubleshooting-singkat","title":"Troubleshooting singkat","text":"Masalah Cek Worker tidak muncul Firewall: pastikan port 6443 (API) dari worker ke server terbuka Token salah Jalankan lagi <code>sudo cat /var/lib/rancher/k3s/server/node-token</code> di server IP salah Pastikan worker bisa ping ke IP server (<code>ping IP_SERVER</code>)"},{"location":"how-to/001-metallb-loadbalancer/","title":"How-to: MetalLB (LoadBalancer di Bare Metal / VPS)","text":"<p>MetalLB memberi Service tipe LoadBalancer alamat IP eksternal di cluster yang tidak punya cloud load balancer bawaan.</p>"},{"location":"how-to/001-metallb-loadbalancer/#kapan-perlu-metallb","title":"Kapan perlu MetalLB?","text":"<p>Tidak perlu memasang MetalLB jika kamu memakai managed Kubernetes yang sudah menyediakan LoadBalancer:</p> <ul> <li>DigitalOcean (DOKS)</li> <li>Google GKE, AWS EKS, Azure AKS</li> <li>Linode LKE, Vultr, Scaleway, dll.</li> </ul> <p>Di layanan itu, <code>Service type: LoadBalancer</code> sudah otomatis dapat IP eksternal dari provider.</p> <p>Perlu MetalLB jika cluster kamu jalan di:</p> <ul> <li>Bare metal (server fisik on-prem)</li> <li>VM / VPS tanpa integrasi load balancer (misalnya K3s di VPS DigitalOcean/Linode tanpa pakai DO Load Balancer)</li> <li>Cluster on-prem atau di data center yang tidak punya cloud controller</li> </ul> <p>Singkatnya: kalau buat Service <code>LoadBalancer</code> dan kolom EXTERNAL-IP tetap <code>&lt;pending&gt;</code>, itu saatnya pasang MetalLB (dan siapkan range IP yang boleh dipakai).</p>"},{"location":"how-to/001-metallb-loadbalancer/#prasyarat","title":"Prasyarat","text":"<ul> <li>Cluster berjalan di bare metal/VPS (tanpa cloud load balancer).</li> <li><code>kubectl</code> sudah bisa akses cluster.</li> <li>Punya IP pool yang bisa dipakai MetalLB.</li> </ul>"},{"location":"how-to/001-metallb-loadbalancer/#1-install-metallb","title":"1. Install MetalLB","text":"<pre><code>kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.14.5/config/manifests/metallb-native.yaml\n</code></pre>"},{"location":"how-to/001-metallb-loadbalancer/#2-cek-metallb-sudah-jalan","title":"2. Cek MetalLB sudah jalan","text":"<p>Pastikan pod MetalLB berjalan di namespace <code>metallb-system</code>:</p> <pre><code>kubectl get pods -n metallb-system\n</code></pre>"},{"location":"how-to/001-metallb-loadbalancer/#3-simpan-config-ip-pool","title":"3. Simpan config IP pool","text":"<p>Buat file <code>metallb-pool.yaml</code> (ganti <code>178.128.91.208/32</code> dengan range IP yang boleh dipakai di jaringan kamu):</p> <pre><code># metallb-pool.yaml\napiVersion: metallb.io/v1beta1\nkind: IPAddressPool\nmetadata:\n  name: default\n  namespace: metallb-system\nspec:\n  addresses:\n  - 178.128.91.208/32\n---\napiVersion: metallb.io/v1beta1\nkind: L2Advertisement\nmetadata:\n  name: advert\n  namespace: metallb-system\n</code></pre> <p>Simpan ke disk, misalnya:</p> <pre><code># Edit dengan editor atau paste isi di atas ke file metallb-pool.yaml\nnano metallb-pool.yaml\n</code></pre>"},{"location":"how-to/001-metallb-loadbalancer/#4-apply-config-ip-pool","title":"4. Apply config IP pool","text":"<pre><code>kubectl apply -f metallb-pool.yaml\n</code></pre>"},{"location":"how-to/001-metallb-loadbalancer/#5-test-load-balancer","title":"5. Test Load Balancer","text":"<p>Pastikan sudah ada Deployment (misalnya Nginx). Lalu expose dengan tipe LoadBalancer:</p> <pre><code>kubectl expose deployment nginx \\\n  --type=LoadBalancer \\\n  --port=80 \\\n  --name=nginx-lb\n</code></pre>"},{"location":"how-to/001-metallb-loadbalancer/#6-cek-service","title":"6. Cek Service","text":"<pre><code>kubectl get svc nginx-lb\n</code></pre> <p>Contoh keluaran (harus ada EXTERNAL-IP):</p> <pre><code>NAME       TYPE           CLUSTER-IP     EXTERNAL-IP      PORT(S)        AGE\nnginx-lb   LoadBalancer   10.43.x.x      178.128.91.208   80:xxxxx/TCP   xxs\n</code></pre> <p>Akses via: <code>http://178.128.91.208</code> (atau IP yang kamu set di pool).</p>"},{"location":"how-to/001-metallb-loadbalancer/#7-hapus-load-balancer-setelah-tes","title":"7. Hapus Load Balancer (setelah tes)","text":"<p>Setelah berhasil diakses, hapus Service LoadBalancer (dan Deployment jika hanya untuk tes):</p> <pre><code>kubectl delete service nginx-lb\nkubectl delete deployment nginx\n</code></pre> <p>Verifikasi:</p> <pre><code>kubectl get svc\nkubectl get deployment\n</code></pre>"},{"location":"how-to/002-longhorn/","title":"How-to: Longhorn (Persistent Storage)","text":"<p>Panduan singkat memasang Longhorn sebagai StorageClass default di K3s.</p>"},{"location":"how-to/002-longhorn/#prasyarat","title":"Prasyarat","text":"<p>Sebelum instalasi:</p> <ul> <li>Pastikan server punya storage cukup (Longhorn butuh minimal ~10GB ruang kosong).</li> <li>Pastikan kamu punya akses ke namespace <code>longhorn-system</code> untuk pengecekan/manajemen.</li> </ul> <p>Cek node dan kapasitas disk:</p> <pre><code>kubectl get nodes\ndf -h\n</code></pre>"},{"location":"how-to/002-longhorn/#1-instalasi-longhorn","title":"1. Instalasi Longhorn","text":"<p>Pasang Longhorn lewat manifest resmi:</p> <pre><code>kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/v1.6.2/deploy/longhorn.yaml\n</code></pre> <p>Tunggu sampai semua komponen siap (bisa memakan beberapa menit).</p>"},{"location":"how-to/002-longhorn/#2-cek-pod-longhorn","title":"2. Cek Pod Longhorn","text":"<p>Pastikan semua Pod di namespace <code>longhorn-system</code> berstatus Running:</p> <pre><code>kubectl get pods -n longhorn-system\n</code></pre> <p>Contoh output yang sehat:</p> <pre><code>NAME                                     READY   STATUS    RESTART   AGE\nlonghorn-frontend-xxx                     1/1     Running   0         5m\nlonghorn-manager-xxx                     1/1     Running   0         5m\nlonghorn-driver-xxx                      1/1     Running   0         5m\n...\n</code></pre>"},{"location":"how-to/002-longhorn/#3-jadikan-longhorn-sebagai-storageclass-default","title":"3. Jadikan Longhorn sebagai StorageClass default","text":"<p>Agar PVC baru otomatis pakai Longhorn tanpa harus menyebut nama StorageClass:</p> <pre><code>kubectl patch storageclass longhorn \\\n  -p '{\"metadata\":{\"annotations\":{\"storageclass.kubernetes.io/is-default-class\":\"true\"}}}'\n</code></pre> <p>Verifikasi:</p> <pre><code>kubectl get storageclass\n</code></pre> <p><code>longhorn</code> harus tampil dengan kolom DEFAULT bernilai <code>true</code>:</p> <pre><code>NAME       PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE   DEFAULT\nlonghorn   driver.longhorn.io      Delete          Immediate           true\n</code></pre>"},{"location":"how-to/002-longhorn/#4-uji-coba-membuat-persistent-volume","title":"4. Uji coba: membuat Persistent Volume","text":""},{"location":"how-to/002-longhorn/#1-buat-persistentvolumeclaim-pvc","title":"1. Buat PersistentVolumeClaim (PVC)","text":"<p>Buat file <code>test-pvc.yaml</code>:</p> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: test-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f test-pvc.yaml\n</code></pre>"},{"location":"how-to/002-longhorn/#2-cek-pvc-dan-pv","title":"2. Cek PVC dan PV","text":"<pre><code>kubectl get pvc\nkubectl get pv\n</code></pre> <ul> <li>PVC status Bound \u2192 Longhorn sudah membuat volume dan mengikatnya.</li> <li>PV akan otomatis dibuat oleh Longhorn (provisioner).</li> </ul>"},{"location":"how-to/002-longhorn/#3-pakai-pvc-di-pod","title":"3. Pakai PVC di Pod","text":"<p>Buat file <code>nginx-pv.yaml</code>:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pv\nspec:\n  containers:\n    - name: nginx\n      image: nginx\n      volumeMounts:\n        - mountPath: /usr/share/nginx/html\n          name: webdata\n  volumes:\n    - name: webdata\n      persistentVolumeClaim:\n        claimName: test-pvc\n</code></pre> <p>Terapkan dan cek:</p> <pre><code>kubectl apply -f nginx-pv.yaml\nkubectl exec -it nginx-pv -- /bin/bash\n</code></pre> <p>Di dalam Pod, cek folder <code>/usr/share/nginx/html</code>. File yang disimpan di sini akan tetap ada meskipun Pod dihapus dan dibuat ulang (selama PVC tidak dihapus).</p>"},{"location":"how-to/002-longhorn/#4-hapus-resource-uji-coba","title":"4. Hapus resource uji coba","text":"<p>Setelah selesai uji coba, hapus Pod lalu PVC. Urutan penting: hapus dulu Pod yang memakai PVC, baru hapus PVC.</p> <pre><code>kubectl delete pod nginx-pv\nkubectl delete pvc test-pvc\n</code></pre> <p>PV akan otomatis terhapus oleh Longhorn (karena reclaim policy <code>Delete</code>). Cek sampai bersih:</p> <pre><code>kubectl get pvc\nkubectl get pv\nkubectl get pods\n</code></pre>"},{"location":"how-to/002-longhorn/#ringkasan","title":"Ringkasan","text":"<ul> <li>Longhorn bisa dipakai di VPS single-node dan aman untuk dipakai di lingkungan kecil.</li> <li>Cocok untuk database, cache, atau aplikasi lain yang butuh persistent storage.</li> <li>Tidak wajib untuk aplikasi yang benar-benar stateless (misalnya Nginx tanpa data yang perlu disimpan).</li> </ul>"},{"location":"how-to/003-letsencrypt-cert-manager/","title":"How-to: Let's Encrypt (cert-manager)","text":"<p>Panduan singkat untuk menerbitkan sertifikat Let's Encrypt di K3s dengan cert-manager.</p>"},{"location":"how-to/003-letsencrypt-cert-manager/#prasyarat","title":"Prasyarat","text":"<ul> <li>Domain sudah mengarah ke IP publik/LoadBalancer.</li> <li>Ingress controller aktif (contoh: Traefik bawaan K3s).</li> <li>Port 80/443 terbuka.</li> </ul>"},{"location":"how-to/003-letsencrypt-cert-manager/#1-install-cert-manager","title":"1. Install cert-manager","text":"<pre><code>kubectl apply -f https://github.com/cert-manager/cert-manager/releases/latest/download/cert-manager.yaml\n</code></pre> <pre><code>kubectl get pods -n cert-manager\n</code></pre>"},{"location":"how-to/003-letsencrypt-cert-manager/#2-buat-clusterissuer","title":"2. Buat ClusterIssuer","text":"<p>Simpan sebagai <code>letsencrypt-issuer.yaml</code>:</p> <pre><code>apiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-prod\nspec:\n  acme:\n    email: kamu@email.com # ganti dengan emailmu\n    server: https://acme-v02.api.letsencrypt.org/directory\n    privateKeySecretRef:\n      name: letsencrypt-prod\n    solvers:\n      - http01:\n          ingress:\n            class: traefik\n</code></pre> <pre><code>kubectl apply -f letsencrypt-issuer.yaml\n</code></pre>"},{"location":"how-to/003-letsencrypt-cert-manager/#3-tambah-tls-di-ingress","title":"3. Tambah TLS di Ingress","text":"<p>Simpan sebagai <code>nginx-https.yaml</code>:</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: nginx-https\n  annotations:\n    kubernetes.io/ingress.class: traefik\n    cert-manager.io/cluster-issuer: letsencrypt-prod\nspec:\n  tls:\n    - hosts:\n        - nginx.yourdomain.com # ganti dengan domain kamu\n      secretName: nginx-tls\n  rules:\n    - host: nginx.yourdomain.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: nginx\n                port:\n                  number: 80\n</code></pre> <pre><code>kubectl apply -f nginx-https.yaml\n</code></pre>"},{"location":"how-to/003-letsencrypt-cert-manager/#4-verifikasi-sertifikat","title":"4. Verifikasi sertifikat","text":"<pre><code>kubectl get certificate\n</code></pre>"},{"location":"how-to/004-adminer/","title":"How-to: Adminer","text":"<p>Panduan ringkas untuk menjalankan Adminer di K3s.</p>"},{"location":"how-to/004-adminer/#prasyarat","title":"Prasyarat","text":"<ul> <li>Ingress controller aktif (contoh: Traefik bawaan K3s).</li> <li>Jika pakai TLS, ikuti How-to: Let's Encrypt (cert-manager).</li> </ul>"},{"location":"how-to/004-adminer/#catatan-keamanan","title":"Catatan keamanan","text":"<p>Jika nanti menambahkan kredensial ke Secret, jangan commit ke Git. Apply Secret dari mesin lokal yang aman atau lewat CI/CD secret.</p>"},{"location":"how-to/004-adminer/#1-buat-namespace-sekali-saja","title":"1. Buat namespace (sekali saja)","text":"<pre><code>kubectl get ns tools || kubectl create ns tools\n</code></pre>"},{"location":"how-to/004-adminer/#2-buat-admineryaml","title":"2. Buat <code>adminer.yaml</code>","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: adminer\n  namespace: tools\n  labels:\n    app: adminer\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: adminer\n  template:\n    metadata:\n      labels:\n        app: adminer\n    spec:\n      containers:\n        - name: adminer\n          image: adminer:5.4.1\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 8080\n              name: http\n          env:\n            - name: ADMINER_DEFAULT_SERVER\n              value: \"db-service.default.svc.cluster.local\" # optional\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: adminer\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: adminer\n  ports:\n    - name: http\n      port: 80\n      targetPort: 8080\n---\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: adminer\n  namespace: tools\n  annotations:\n    traefik.ingress.kubernetes.io/router.entrypoints: websecure\n    cert-manager.io/cluster-issuer: letsencrypt-prod\nspec:\n  ingressClassName: traefik\n  rules:\n    - host: adminer.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: adminer\n                port:\n                  number: 80\n  tls:\n    - hosts:\n        - adminer.example.com\n      secretName: adminer-tls\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f adminer.yaml\n</code></pre>"},{"location":"how-to/004-adminer/#penjelasan-variabel","title":"Penjelasan variabel","text":"<ul> <li><code>ADMINER_DEFAULT_SERVER</code>: host default database yang otomatis terisi saat login (opsional).</li> <li><code>adminer.example.com</code>: ganti dengan domain milikmu.</li> <li><code>adminer-tls</code>: nama Secret TLS dari cert-manager untuk domain tersebut.</li> </ul>"},{"location":"how-to/005-glitchtip/","title":"How-to: GlitchTip","text":"<p>Contoh GlitchTip di K3s, termasuk PostgreSQL dan Redis internal.</p>"},{"location":"how-to/005-glitchtip/#prasyarat","title":"Prasyarat","text":"<ul> <li>Ingress controller aktif (contoh: Traefik bawaan K3s).</li> <li>Jika pakai TLS, ikuti How-to: Let's Encrypt (cert-manager).</li> </ul>"},{"location":"how-to/005-glitchtip/#catatan-keamanan","title":"Catatan keamanan","text":"<p>Jangan commit <code>glitchtip-secrets.yaml</code> ke Git. Apply Secret dari mesin lokal yang aman atau lewat CI/CD secret.</p>"},{"location":"how-to/005-glitchtip/#1-buat-namespace-sekali-saja","title":"1. Buat namespace (sekali saja)","text":"<pre><code>kubectl get ns tools || kubectl create ns tools\n</code></pre>"},{"location":"how-to/005-glitchtip/#2-buat-glitchtip-secretsyaml-sensitif","title":"2. Buat <code>glitchtip-secrets.yaml</code> (sensitif)","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: glitchtip-secrets\n  namespace: tools\ntype: Opaque\nstringData:\n  SECRET_KEY: \"ganti-dengan-random-string\"\n  POSTGRES_DB: \"glitchtip\"\n  POSTGRES_USER: \"glitchtip\"\n  POSTGRES_PASSWORD: \"ganti-password-db\"\n  DATABASE_URL: \"postgres://glitchtip:ganti-password-db@glitchtip-postgres.tools.svc.cluster.local:5432/glitchtip\"\n  REDIS_URL: \"redis://glitchtip-redis.tools.svc.cluster.local:6379/0\"\n</code></pre>"},{"location":"how-to/005-glitchtip/#3-buat-glitchtip-postgresyaml","title":"3. Buat <code>glitchtip-postgres.yaml</code>","text":"<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: glitchtip-postgres-pvc\n  namespace: tools\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 5Gi\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: glitchtip-postgres\n  namespace: tools\n  labels:\n    app: glitchtip-postgres\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: glitchtip-postgres\n  template:\n    metadata:\n      labels:\n        app: glitchtip-postgres\n    spec:\n      containers:\n        - name: postgres\n          image: postgres:16\n          ports:\n            - containerPort: 5432\n          env:\n            - name: POSTGRES_DB\n              valueFrom:\n                secretKeyRef:\n                  name: glitchtip-secrets\n                  key: POSTGRES_DB\n            - name: POSTGRES_USER\n              valueFrom:\n                secretKeyRef:\n                  name: glitchtip-secrets\n                  key: POSTGRES_USER\n            - name: POSTGRES_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: glitchtip-secrets\n                  key: POSTGRES_PASSWORD\n            - name: PGDATA\n              value: /var/lib/postgresql/data/pgdata\n          volumeMounts:\n            - name: pg-data\n              mountPath: /var/lib/postgresql/data\n      volumes:\n        - name: pg-data\n          persistentVolumeClaim:\n            claimName: glitchtip-postgres-pvc\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: glitchtip-postgres\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: glitchtip-postgres\n  ports:\n    - port: 5432\n      targetPort: 5432\n</code></pre>"},{"location":"how-to/005-glitchtip/#4-buat-glitchtip-redisyaml","title":"4. Buat <code>glitchtip-redis.yaml</code>","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: glitchtip-redis\n  namespace: tools\n  labels:\n    app: glitchtip-redis\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: glitchtip-redis\n  template:\n    metadata:\n      labels:\n        app: glitchtip-redis\n    spec:\n      containers:\n        - name: redis\n          image: redis:7\n          ports:\n            - containerPort: 6379\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: glitchtip-redis\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: glitchtip-redis\n  ports:\n    - port: 6379\n      targetPort: 6379\n</code></pre>"},{"location":"how-to/005-glitchtip/#5-buat-glitchtipyaml","title":"5. Buat <code>glitchtip.yaml</code>","text":"<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: glitchtip\n  namespace: tools\n  labels:\n    app: glitchtip\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: glitchtip\n  template:\n    metadata:\n      labels:\n        app: glitchtip\n    spec:\n      containers:\n        - name: glitchtip\n          image: glitchtip/glitchtip:latest\n          ports:\n            - containerPort: 8000\n              name: http\n          env:\n            - name: SECRET_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: glitchtip-secrets\n                  key: SECRET_KEY\n            - name: DATABASE_URL\n              valueFrom:\n                secretKeyRef:\n                  name: glitchtip-secrets\n                  key: DATABASE_URL\n            - name: REDIS_URL\n              valueFrom:\n                secretKeyRef:\n                  name: glitchtip-secrets\n                  key: REDIS_URL\n            - name: TZ\n              value: Asia/Jakarta\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: glitchtip-service\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: glitchtip\n  ports:\n    - name: http\n      port: 80\n      targetPort: 8000\n---\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: glitchtip-ingress\n  namespace: tools\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    traefik.ingress.kubernetes.io/router.entrypoints: websecure\nspec:\n  ingressClassName: traefik\n  tls:\n    - hosts:\n        - glitchtip.example.com\n      secretName: glitchtip-tls\n  rules:\n    - host: glitchtip.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: glitchtip-service\n                port:\n                  number: 80\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f glitchtip-secrets.yaml\nkubectl apply -f glitchtip-postgres.yaml\nkubectl apply -f glitchtip-redis.yaml\nkubectl apply -f glitchtip.yaml\n</code></pre>"},{"location":"how-to/005-glitchtip/#penjelasan-variabel-sensitif","title":"Penjelasan variabel (sensitif)","text":"<ul> <li><code>SECRET_KEY</code>: kunci rahasia aplikasi (harus random dan panjang).</li> <li><code>POSTGRES_USER</code> / <code>POSTGRES_PASSWORD</code> / <code>POSTGRES_DB</code>: kredensial database internal.</li> <li><code>DATABASE_URL</code>: URL koneksi PostgreSQL (Service internal).</li> <li><code>REDIS_URL</code>: URL koneksi Redis/Valkey (Service internal).</li> </ul>"},{"location":"how-to/005-glitchtip/#penjelasan-variabel-lain","title":"Penjelasan variabel lain","text":"<ul> <li><code>glitchtip.example.com</code>: ganti dengan domain milikmu.</li> </ul>"},{"location":"how-to/006-metabase/","title":"How-to: Metabase","text":"<p>Contoh manifest Metabase + PostgreSQL di K3s.</p>"},{"location":"how-to/006-metabase/#prasyarat","title":"Prasyarat","text":"<ul> <li>StorageClass sudah siap (misal Longhorn) untuk PVC.</li> <li>Ingress controller aktif (contoh: Traefik bawaan K3s).</li> <li>Jika pakai TLS, ikuti How-to: Let's Encrypt (cert-manager).</li> </ul>"},{"location":"how-to/006-metabase/#catatan-keamanan","title":"Catatan keamanan","text":"<p>Jangan commit <code>metabase-secrets.yaml</code> ke Git. Apply Secret dari mesin lokal yang aman atau lewat CI/CD secret.</p>"},{"location":"how-to/006-metabase/#1-buat-namespace-sekali-saja","title":"1. Buat namespace (sekali saja)","text":"<pre><code>kubectl get ns tools || kubectl create ns tools\n</code></pre>"},{"location":"how-to/006-metabase/#2-buat-metabase-secretsyaml-sensitif","title":"2. Buat <code>metabase-secrets.yaml</code> (sensitif)","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: metabase-secrets\n  namespace: tools\ntype: Opaque\nstringData:\n  POSTGRES_DB: \"metabase\"\n  POSTGRES_USER: \"metabase\"\n  POSTGRES_PASSWORD: \"ganti-password-db\"\n  MB_DB_DBNAME: \"metabase\"\n  MB_DB_USER: \"metabase\"\n  MB_DB_PASS: \"ganti-password-db\"\n</code></pre>"},{"location":"how-to/006-metabase/#3-buat-metabase-postgresyaml","title":"3. Buat <code>metabase-postgres.yaml</code>","text":"<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: metabase-postgres-pvc\n  namespace: tools\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 3Gi\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: metabase-postgres\n  namespace: tools\n  labels:\n    app: metabase-postgres\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: metabase-postgres\n  template:\n    metadata:\n      labels:\n        app: metabase-postgres\n    spec:\n      containers:\n        - name: postgres\n          image: postgres:16\n          ports:\n            - containerPort: 5432\n          env:\n            - name: POSTGRES_DB\n              valueFrom:\n                secretKeyRef:\n                  name: metabase-secrets\n                  key: POSTGRES_DB\n            - name: POSTGRES_USER\n              valueFrom:\n                secretKeyRef:\n                  name: metabase-secrets\n                  key: POSTGRES_USER\n            - name: POSTGRES_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: metabase-secrets\n                  key: POSTGRES_PASSWORD\n            - name: TZ\n              value: Asia/Jakarta\n            - name: PGDATA\n              value: /var/lib/postgresql/data/pgdata\n          volumeMounts:\n            - name: pg-data\n              mountPath: /var/lib/postgresql/data\n      volumes:\n        - name: pg-data\n          persistentVolumeClaim:\n            claimName: metabase-postgres-pvc\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: metabase-postgres\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: metabase-postgres\n  ports:\n    - port: 5432\n      targetPort: 5432\n</code></pre>"},{"location":"how-to/006-metabase/#4-buat-metabaseyaml","title":"4. Buat <code>metabase.yaml</code>","text":"<pre><code>---\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: metabase-pvc\n  namespace: tools\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 2Gi\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: metabase\n  namespace: tools\n  labels:\n    app: metabase\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: metabase\n  template:\n    metadata:\n      labels:\n        app: metabase\n    spec:\n      containers:\n        - name: metabase\n          image: metabase/metabase:latest\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 3000\n              name: http\n          env:\n            - name: MB_DB_TYPE\n              value: postgres\n            - name: MB_DB_DBNAME\n              valueFrom:\n                secretKeyRef:\n                  name: metabase-secrets\n                  key: MB_DB_DBNAME\n            - name: MB_DB_PORT\n              value: \"5432\"\n            - name: MB_DB_USER\n              valueFrom:\n                secretKeyRef:\n                  name: metabase-secrets\n                  key: MB_DB_USER\n            - name: MB_DB_PASS\n              valueFrom:\n                secretKeyRef:\n                  name: metabase-secrets\n                  key: MB_DB_PASS\n            - name: MB_DB_HOST\n              value: metabase-postgres\n            - name: MB_JETTY_PORT\n              value: \"3000\"\n            - name: TZ\n              value: Asia/Jakarta\n          volumeMounts:\n            - name: metabase-data\n              mountPath: /metabase-data\n      volumes:\n        - name: metabase-data\n          persistentVolumeClaim:\n            claimName: metabase-pvc\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: metabase-service\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: metabase\n  ports:\n    - name: http\n      port: 80\n      targetPort: 3000\n---\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: metabase-ingress\n  namespace: tools\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    traefik.ingress.kubernetes.io/router.entrypoints: websecure\nspec:\n  ingressClassName: traefik\n  tls:\n    - hosts:\n        - metabase.example.com\n      secretName: metabase-tls\n  rules:\n    - host: metabase.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: metabase-service\n                port:\n                  number: 80\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f metabase-secrets.yaml\nkubectl apply -f metabase-postgres.yaml\nkubectl apply -f metabase.yaml\n</code></pre>"},{"location":"how-to/006-metabase/#penjelasan-variabel-sensitif","title":"Penjelasan variabel (sensitif)","text":"<ul> <li><code>POSTGRES_PASSWORD</code>: password database PostgreSQL (untuk container Postgres).</li> <li><code>MB_DB_PASS</code>: password yang dipakai Metabase untuk konek ke PostgreSQL.</li> <li><code>POSTGRES_DB</code>, <code>POSTGRES_USER</code>, <code>MB_DB_DBNAME</code>, <code>MB_DB_USER</code>: nama DB dan user (bisa sama).</li> </ul>"},{"location":"how-to/006-metabase/#penjelasan-variabel-lain","title":"Penjelasan variabel lain","text":"<ul> <li><code>MB_DB_HOST</code>: nama Service PostgreSQL.</li> <li><code>MB_DB_PORT</code>: port PostgreSQL.</li> <li><code>MB_JETTY_PORT</code>: port internal Metabase.</li> <li><code>metabase.example.com</code>: ganti dengan domain milikmu.</li> </ul>"},{"location":"how-to/007-waha/","title":"How-to: WAHA","text":"<p>Contoh manifest WAHA di K3s.</p>"},{"location":"how-to/007-waha/#prasyarat","title":"Prasyarat","text":"<ul> <li>StorageClass sudah siap (misal Longhorn) untuk PVC.</li> <li>Ingress controller aktif (contoh: Traefik bawaan K3s).</li> <li>Jika pakai TLS, ikuti How-to: Let's Encrypt (cert-manager).</li> </ul>"},{"location":"how-to/007-waha/#catatan-keamanan","title":"Catatan keamanan","text":"<p>Jangan commit <code>waha-secrets.yaml</code> ke Git. Apply Secret dari mesin lokal yang aman atau lewat CI/CD secret.</p>"},{"location":"how-to/007-waha/#1-buat-namespace-sekali-saja","title":"1. Buat namespace (sekali saja)","text":"<pre><code>kubectl get ns tools || kubectl create ns tools\n</code></pre>"},{"location":"how-to/007-waha/#2-buat-waha-secretsyaml-sensitif","title":"2. Buat <code>waha-secrets.yaml</code> (sensitif)","text":"<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: waha-secrets\n  namespace: tools\ntype: Opaque\nstringData:\n  WAHA_API_KEY_PLAIN: \"ganti-api-key-plain\"\n  WAHA_API_KEY: \"sha512:ganti-hash-api-key\"\n  WAHA_DASHBOARD_USERNAME: \"admin\"\n  WAHA_DASHBOARD_PASSWORD: \"ganti-password-dashboard\"\n  WHATSAPP_SWAGGER_USERNAME: \"admin\"\n  WHATSAPP_SWAGGER_PASSWORD: \"ganti-password-swagger\"\n</code></pre>"},{"location":"how-to/007-waha/#3-buat-wahayaml","title":"3. Buat <code>waha.yaml</code>","text":"<pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: waha-pvc\n  namespace: tools\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 2Gi\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: waha\n  namespace: tools\n  labels:\n    app: waha\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: waha\n  template:\n    metadata:\n      labels:\n        app: waha\n    spec:\n      containers:\n        - name: waha\n          image: devlikeapro/waha:latest\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 3000\n              name: http\n          env:\n            - name: WAHA_API_KEY_PLAIN\n              valueFrom:\n                secretKeyRef:\n                  name: waha-secrets\n                  key: WAHA_API_KEY_PLAIN\n            - name: WAHA_API_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: waha-secrets\n                  key: WAHA_API_KEY\n            - name: WAHA_RESTART_ALL_SESSIONS\n              value: \"false\"\n            - name: WAHA_AUTO_START_DELAY_SECONDS\n              value: \"5\"\n            - name: WHATSAPP_RESTART_ALL_SESSIONS\n              value: \"false\"\n            - name: TZ\n              value: \"Asia/Jakarta\"\n            - name: WAHA_DASHBOARD_ENABLED\n              value: \"true\"\n            - name: WAHA_DASHBOARD_USERNAME\n              valueFrom:\n                secretKeyRef:\n                  name: waha-secrets\n                  key: WAHA_DASHBOARD_USERNAME\n            - name: WAHA_DASHBOARD_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: waha-secrets\n                  key: WAHA_DASHBOARD_PASSWORD\n            - name: WHATSAPP_SWAGGER_ENABLED\n              value: \"true\"\n            - name: WHATSAPP_SWAGGER_USERNAME\n              valueFrom:\n                secretKeyRef:\n                  name: waha-secrets\n                  key: WHATSAPP_SWAGGER_USERNAME\n            - name: WHATSAPP_SWAGGER_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: waha-secrets\n                  key: WHATSAPP_SWAGGER_PASSWORD\n          volumeMounts:\n            - name: waha-data\n              mountPath: /app/.sessions\n      volumes:\n        - name: waha-data\n          persistentVolumeClaim:\n            claimName: waha-pvc\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: waha-service\n  namespace: tools\nspec:\n  type: ClusterIP\n  selector:\n    app: waha\n  ports:\n    - name: http\n      port: 80\n      targetPort: 3000\n---\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: waha-ingress\n  namespace: tools\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    traefik.ingress.kubernetes.io/router.entrypoints: websecure\nspec:\n  ingressClassName: traefik\n  tls:\n    - hosts:\n        - waha.example.com\n      secretName: waha-tls\n  rules:\n    - host: waha.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: waha-service\n                port:\n                  number: 80\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f waha-secrets.yaml\nkubectl apply -f waha.yaml\n</code></pre>"},{"location":"how-to/007-waha/#penjelasan-variabel-sensitif","title":"Penjelasan variabel (sensitif)","text":"<ul> <li><code>WAHA_API_KEY_PLAIN</code>: API key dalam teks biasa untuk akses API.</li> <li><code>WAHA_API_KEY</code>: API key versi hash (sha512).</li> <li><code>WAHA_DASHBOARD_USERNAME</code> / <code>WAHA_DASHBOARD_PASSWORD</code>: kredensial dashboard WAHA.</li> <li><code>WHATSAPP_SWAGGER_USERNAME</code> / <code>WHATSAPP_SWAGGER_PASSWORD</code>: kredensial halaman Swagger.</li> </ul>"},{"location":"how-to/007-waha/#penjelasan-variabel-lain","title":"Penjelasan variabel lain","text":"<ul> <li><code>WAHA_RESTART_ALL_SESSIONS</code>: restart semua sesi saat boot (true/false).</li> <li><code>WAHA_AUTO_START_DELAY_SECONDS</code>: delay auto-start sesi dalam detik.</li> <li><code>WHATSAPP_RESTART_ALL_SESSIONS</code>: restart semua sesi WhatsApp saat boot.</li> <li><code>waha.example.com</code>: ganti dengan domain milikmu.</li> </ul>"},{"location":"reference/001-traefik/","title":"Traefik (Ingress Default K3s)","text":"<p>K3s memasang Traefik sebagai Ingress controller secara default. Tidak perlu instalasi tambahan.</p>"},{"location":"reference/001-traefik/#cek-traefik-sudah-jalan","title":"Cek Traefik sudah jalan","text":"<p>Pastikan pod Traefik berjalan di namespace <code>kube-system</code>:</p> <pre><code>kubectl get pods -n kube-system | grep traefik\n</code></pre> <p>Contoh keluaran:</p> <pre><code>traefik-xxxxx   Running\n</code></pre> <p>Jika status Running, Traefik siap dipakai untuk Ingress.</p>"},{"location":"tutorials/000-k3s-getting-started/","title":"Tutorial: Memulai dengan K3s","text":"<p>Tujuan: Memasang K3s di satu server, bisa menjalankan <code>kubectl</code> tanpa sudo, lalu mencoba deploy contoh (Nginx) dan menghapusnya lagi.</p> <p>Di sini kamu akan mengikuti langkah demi langkah: persiapan server, instalasi K3s, verifikasi, konfigurasi kubectl, dan contoh deploy Nginx sebagai tes cluster.</p>"},{"location":"tutorials/000-k3s-getting-started/#kenapa-pakai-k3s","title":"Kenapa pakai K3s?","text":"<p>K3s adalah distribusi Kubernetes yang ringan dan sederhana untuk dijalankan di satu server (VPS atau bare metal). Dibanding Kubernetes penuh (kubeadm, kubelet, banyak komponen), K3s cukup satu binary, resource (RAM/CPU) lebih kecil, dan instalasinya satu perintah. Cocok untuk self-hosted, edge, atau cluster kecil yang tidak butuh fitur enterprise.</p> <p>K3s tetap kompatibel dengan API Kubernetes \u2014 <code>kubectl</code>, Helm, dan manifest YAML yang dipakai di cluster lain bisa dipakai di sini. Jadi kalau kamu mau belajar Kubernetes atau menjalankan workload nyata (web app, database, dll.) di satu server dengan biaya minimal, K3s adalah pilihan yang masuk akal.</p>"},{"location":"tutorials/000-k3s-getting-started/#persiapan","title":"Persiapan","text":"<p>Pastikan kamu punya akses SSH ke server Linux (misalnya Ubuntu/Debian).</p>"},{"location":"tutorials/000-k3s-getting-started/#1-update-sistem","title":"1. Update sistem","text":"<p>Perbarui paket dan reboot jika perlu:</p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y\nsudo reboot\n</code></pre> <p>Setelah reboot, login lagi ke server.</p>"},{"location":"tutorials/000-k3s-getting-started/#instalasi-k3s","title":"Instalasi K3s","text":""},{"location":"tutorials/000-k3s-getting-started/#2-pasang-k3s","title":"2. Pasang K3s","text":"<p>Jalankan skrip instalasi resmi:</p> <pre><code>curl -sfL https://get.k3s.io | sh -\n</code></pre> <p>K3s akan terpasang dan layanan <code>k3s</code> berjalan sebagai systemd service.</p>"},{"location":"tutorials/000-k3s-getting-started/#3-cek-status-layanan","title":"3. Cek status layanan","text":"<p>Pastikan layanan K3s aktif:</p> <pre><code>sudo systemctl status k3s\n</code></pre> <p>Status yang tampil: active (running) jika berhasil.</p>"},{"location":"tutorials/000-k3s-getting-started/#menggunakan-cluster","title":"Menggunakan cluster","text":""},{"location":"tutorials/000-k3s-getting-started/#4-cek-node-sementara-pakai-sudo","title":"4. Cek node (sementara pakai sudo)","text":"<p>Sebelum <code>kubectl</code> siap tanpa <code>sudo</code>, gunakan <code>k3s kubectl</code>:</p> <pre><code>sudo k3s kubectl get nodes\n</code></pre> <p>Node (biasanya satu) akan tampil dengan status Ready.</p>"},{"location":"tutorials/000-k3s-getting-started/#5-konfigurasi-kubectl-tanpa-sudo","title":"5. Konfigurasi kubectl tanpa sudo","text":"<p>Salin kubeconfig K3s ke home user agar <code>kubectl</code> bisa dipakai tanpa <code>sudo</code>:</p> <pre><code>mkdir -p ~/.kube\nsudo cp /etc/rancher/k3s/k3s.yaml ~/.kube/config\nsudo chown $USER:$USER ~/.kube/config\n</code></pre>"},{"location":"tutorials/000-k3s-getting-started/#6-set-kubeconfig-kubectlhelm","title":"6. Set KUBECONFIG (kubectl/Helm)","text":"<p>Supaya <code>kubectl</code> dan Helm tahu cluster yang benar (dan tidak mencoba <code>localhost:8080</code>), arahkan <code>KUBECONFIG</code> ke file <code>~/.kube/config</code>:</p> <pre><code>export KUBECONFIG=~/.kube/config\n</code></pre> <p>Agar pengaturan ini tetap dipakai setiap kali login:</p> <pre><code>echo 'export KUBECONFIG=~/.kube/config' &gt;&gt; ~/.bashrc\n</code></pre> <p>Jika ingin langsung aktif di sesi sekarang:</p> <pre><code>source ~/.bashrc\n</code></pre> <p>Kalau <code>KUBECONFIG</code> belum diarahkan, biasanya muncul error seperti ini saat install Helm:</p> <pre><code>Error: INSTALLATION FAILED: Kubernetes cluster unreachable: Get \"http://localhost:8080/version\": dial tcp [::1]:8080: connect: connection refused\n</code></pre>"},{"location":"tutorials/000-k3s-getting-started/#7-tes-akses-kubectl","title":"7. Tes akses kubectl","text":"<p>Jalankan:</p> <pre><code>kubectl get pods -A\n</code></pre> <p>Jika daftar namespace dan pod tampil (termasuk <code>kube-system</code>), cluster K3s kamu siap dipakai.</p> <p>Catatan: K3s sudah menyertakan Traefik sebagai Ingress controller bawaan. Untuk cek status atau konfigurasi Traefik, lihat referensi tersebut.</p>"},{"location":"tutorials/000-k3s-getting-started/#contoh-deploy-nginx-tes-cluster","title":"Contoh: Deploy Nginx (tes cluster)","text":"<p>Contoh singkat untuk memastikan cluster bisa menjalankan workload: deploy Nginx, cek akses, lalu hapus lagi.</p>"},{"location":"tutorials/000-k3s-getting-started/#8-deploy-nginx","title":"8. Deploy Nginx","text":"<p>Buat Deployment dan Service tipe NodePort:</p> <pre><code>kubectl create deployment nginx --image=nginx\nkubectl expose deployment nginx --type=NodePort --port=80\n</code></pre>"},{"location":"tutorials/000-k3s-getting-started/#9-cek-service","title":"9. Cek Service","text":"<p>Lihat Service dan port NodePort:</p> <pre><code>kubectl get svc\n</code></pre> <p>Contoh keluaran:</p> <pre><code>NAME    TYPE       CLUSTER-IP   EXTERNAL-IP   PORT(S)        AGE\nnginx   NodePort   10.43.x.x    &lt;none&gt;        80:30007/TCP    xxs\n</code></pre> <p>Catat port NodePort (angka setelah <code>80:</code>, misalnya <code>30007</code>).</p>"},{"location":"tutorials/000-k3s-getting-started/#10-akses-nginx","title":"10. Akses Nginx","text":"<p>Ganti <code>IP_SERVER</code> dengan IP node/server kamu dan <code>30007</code> jika port kamu berbeda.</p> <p>Dari terminal (curl):</p> <pre><code>curl http://IP_SERVER:30007\n</code></pre> <p>Di browser: buka <code>http://IP_SERVER:30007</code> \u2014 harus tampil halaman default Nginx (Welcome to nginx!).</p>"},{"location":"tutorials/000-k3s-getting-started/#11-uninstall-nginx-langkah-berikutnya","title":"11. Uninstall Nginx (langkah berikutnya)","text":"<p>Setelah berhasil diakses, hapus Service dan Deployment:</p> <pre><code>kubectl delete service nginx\nkubectl delete deployment nginx\n</code></pre> <p>Verifikasi sudah bersih:</p> <pre><code>kubectl get svc\nkubectl get deployment\n</code></pre> <p>Nginx dan Service-nya tidak lagi muncul di daftar.</p>"},{"location":"tutorials/000-k3s-getting-started/#ringkasan","title":"Ringkasan","text":"<p>Yang sudah kamu lakukan:</p> <ol> <li>Memperbarui server dan memasang K3s</li> <li>Memverifikasi layanan K3s</li> <li>Mengatur kubeconfig dan menggunakan <code>kubectl</code> tanpa sudo</li> <li>Mencoba deploy Nginx, mengaksesnya, lalu menghapusnya (uninstall)</li> </ol> <p>Langkah selanjutnya:</p> <ul> <li>Persistent storage (Longhorn): Tutorial: Longhorn \u2014 setelah K3s jalan, pasang Longhorn agar cluster bisa dipakai untuk database atau aplikasi yang butuh data tetap (persistent volume) di self-hosted/VPS.</li> <li>Multi-node: How-to: Cluster K3s Multi-Node \u2014 menambah worker node.</li> <li>LoadBalancer (bare metal/VPS): How-to: MetalLB \u2014 agar Service tipe <code>LoadBalancer</code> mendapat IP eksternal tanpa cloud provider.</li> <li>Ingress: Reference: Traefik \u2014 Ingress controller bawaan K3s, cek status dan konfigurasi.</li> </ul>"},{"location":"tutorials/001-longhorn/","title":"Tutorial: Longhorn (Persistent Storage)","text":"<p>Prasyarat: Selesaikan dulu Tutorial: Memulai dengan K3s \u2014 K3s sudah terpasang dan <code>kubectl</code> berjalan normal.</p> <p>Tujuan: Memasang Longhorn di cluster K3s (self-hosted/VPS), menjadikannya StorageClass default, lalu menguji persistent volume dengan PVC dan Pod.</p>"},{"location":"tutorials/001-longhorn/#kenapa-harus-install-longhorn","title":"Kenapa harus install Longhorn?","text":"<p>Di tutorial K3s kita hanya deploy Nginx stateless: Pod bisa dihapus dan dibuat ulang tanpa kehilangan data karena tidak ada data yang disimpan. Di lingkungan self-hosted (VPS atau bare metal), begitu kamu mau jalankan aplikasi yang butuh data tetap \u2014 misalnya database (PostgreSQL, MySQL), cache (Redis), atau file upload \u2014 data itu harus disimpan di persistent volume. Tanpa itu, data akan hilang saat Pod di-restart, dijadwal ulang ke node lain, atau dihapus.</p> <p>K3s single-node tidak menyediakan StorageClass siap pakai untuk persistent volume seperti di cloud (misalnya AWS EBS, GCP PD). Longhorn menambah kemampuan itu: ia membuat block storage di dalam cluster sehingga PVC (PersistentVolumeClaim) bisa dipakai untuk database, cache, atau file yang harus tetap ada. Jadi alur belajarnya natural: setelah K3s jalan \u2192 pasang Longhorn agar cluster siap dipakai untuk workload yang butuh persistent storage.</p>"},{"location":"tutorials/001-longhorn/#persiapan","title":"Persiapan","text":"<p>Sebelum instalasi:</p> <ul> <li>Pastikan server punya storage cukup (Longhorn butuh minimal ~10GB ruang kosong).</li> <li>Pastikan kamu punya akses ke namespace <code>longhorn-system</code> untuk pengecekan/manajemen.</li> </ul> <p>Cek node dan kapasitas disk:</p> <pre><code>kubectl get nodes\ndf -h\n</code></pre>"},{"location":"tutorials/001-longhorn/#instalasi-longhorn","title":"Instalasi Longhorn","text":"<p>Pasang Longhorn lewat manifest resmi:</p> <pre><code>kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/v1.6.2/deploy/longhorn.yaml\n</code></pre> <p>Tunggu sampai semua komponen siap (bisa memakan beberapa menit).</p>"},{"location":"tutorials/001-longhorn/#cek-pod-longhorn","title":"Cek Pod Longhorn","text":"<p>Pastikan semua Pod di namespace <code>longhorn-system</code> berstatus Running:</p> <pre><code>kubectl get pods -n longhorn-system\n</code></pre> <p>Contoh output yang sehat:</p> <pre><code>NAME                                     READY   STATUS    RESTART   AGE\nlonghorn-frontend-xxx                     1/1     Running   0         5m\nlonghorn-manager-xxx                     1/1     Running   0         5m\nlonghorn-driver-xxx                      1/1     Running   0         5m\n...\n</code></pre>"},{"location":"tutorials/001-longhorn/#jadikan-longhorn-sebagai-storageclass-default","title":"Jadikan Longhorn sebagai StorageClass default","text":"<p>Agar PVC baru otomatis pakai Longhorn tanpa harus menyebut nama StorageClass:</p> <pre><code>kubectl patch storageclass longhorn \\\n  -p '{\"metadata\":{\"annotations\":{\"storageclass.kubernetes.io/is-default-class\":\"true\"}}}'\n</code></pre> <p>Secara bawaan K3s masih punya <code>local-path</code> sebagai default. Supaya tidak ada dua StorageClass default sekaligus, jadikan <code>local-path</code> false:</p> <pre><code>kubectl patch storageclass local-path \\\n  -p '{\"metadata\":{\"annotations\":{\"storageclass.kubernetes.io/is-default-class\":\"false\"}}}'\n</code></pre> <p>Verifikasi:</p> <pre><code>kubectl get storageclass\n</code></pre> <p><code>longhorn</code> harus tampil dengan kolom DEFAULT bernilai <code>true</code>:</p> <pre><code>NAME        PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE   DEFAULT\nlocal-path  rancher.io/local-path   Delete          WaitForFirstConsumer false\nlonghorn    driver.longhorn.io      Delete          Immediate           true\n</code></pre>"},{"location":"tutorials/001-longhorn/#uji-coba-membuat-persistent-volume","title":"Uji coba: membuat Persistent Volume","text":""},{"location":"tutorials/001-longhorn/#1-buat-persistentvolumeclaim-pvc","title":"1. Buat PersistentVolumeClaim (PVC)","text":"<p>Buat file <code>test-pvc.yaml</code>:</p> <pre><code>apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: test-pvc\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f test-pvc.yaml\n</code></pre>"},{"location":"tutorials/001-longhorn/#2-cek-pvc-dan-pv","title":"2. Cek PVC dan PV","text":"<pre><code>kubectl get pvc\nkubectl get pv\n</code></pre> <ul> <li>PVC status Bound \u2192 Longhorn sudah membuat volume dan mengikatnya.</li> <li>PV akan otomatis dibuat oleh Longhorn (provisioner).</li> </ul>"},{"location":"tutorials/001-longhorn/#3-pakai-pvc-di-pod","title":"3. Pakai PVC di Pod","text":"<p>Buat file <code>nginx-pv.yaml</code>:</p> <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pv\nspec:\n  containers:\n    - name: nginx\n      image: nginx\n      volumeMounts:\n        - mountPath: /usr/share/nginx/html\n          name: webdata\n  volumes:\n    - name: webdata\n      persistentVolumeClaim:\n        claimName: test-pvc\n</code></pre> <p>Terapkan dan cek:</p> <pre><code>kubectl apply -f nginx-pv.yaml\nkubectl exec -it nginx-pv -- /bin/bash\n</code></pre> <p>Di dalam Pod, cek folder <code>/usr/share/nginx/html</code>. File yang disimpan di sini akan tetap ada meskipun Pod dihapus dan dibuat ulang (selama PVC tidak dihapus).</p>"},{"location":"tutorials/001-longhorn/#4-hapus-resource-uji-coba","title":"4. Hapus resource uji coba","text":"<p>Setelah selesai uji coba, hapus Pod lalu PVC. Urutan penting: hapus dulu Pod yang memakai PVC, baru hapus PVC.</p> <pre><code>kubectl delete pod nginx-pv\nkubectl delete pvc test-pvc\n</code></pre> <p>PV akan otomatis terhapus oleh Longhorn (karena reclaim policy <code>Delete</code>). Cek sampai bersih:</p> <pre><code>kubectl get pvc\nkubectl get pv\nkubectl get pods\n</code></pre>"},{"location":"tutorials/001-longhorn/#ringkasan","title":"Ringkasan","text":"<p>Yang sudah kamu lakukan:</p> <ol> <li>Memasang Longhorn di cluster K3s (self-hosted).</li> <li>Menjadikan Longhorn sebagai StorageClass default.</li> <li>Menguji persistent volume dengan PVC dan Pod, lalu membersihkan resource uji coba.</li> </ol> <p>Langkah selanjutnya:</p> <ul> <li>Tutorial HTTPS: Let's Encrypt dengan cert-manager \u2014 pasang cert-manager dan aktifkan TLS di Ingress.</li> <li>How-to Longhorn: 002 - Longhorn (Persistent Storage) \u2014 referensi singkat yang sama, tanpa konteks tutorial.</li> <li>Multi-node: How-to: Cluster K3s Multi-Node \u2014 menambah worker node.</li> <li>LoadBalancer: How-to: MetalLB \u2014 Service tipe LoadBalancer di bare metal/VPS.</li> </ul>"},{"location":"tutorials/002-letsencrypt-cert-manager/","title":"Tutorial: Let's Encrypt dengan cert-manager","text":"<p>Prasyarat: Selesaikan dulu Tutorial: Longhorn. Pastikan <code>kubectl</code> bisa akses cluster dan Ingress controller aktif (default K3s: Traefik).</p> <p>Tujuan: Memasang cert-manager, membuat <code>ClusterIssuer</code> Let's Encrypt, lalu mengaktifkan HTTPS pada Ingress.</p>"},{"location":"tutorials/002-letsencrypt-cert-manager/#kenapa-perlu-lets-encrypt","title":"Kenapa perlu Let's Encrypt?","text":"<p>Setelah aplikasi berjalan di K3s, biasanya kamu ingin akses lewat HTTPS agar data aman dan browser tidak menandai situs sebagai \"Not Secure\". Let's Encrypt menyediakan sertifikat gratis, tapi prosesnya butuh otomatisasi (request, renew, dan simpan ke Secret). Di Kubernetes, otomatisasi ini dilakukan oleh cert-manager. Jadi alur belajarnya natural: setelah storage siap \u2192 pasang cert-manager agar Ingress bisa punya TLS.</p>"},{"location":"tutorials/002-letsencrypt-cert-manager/#persiapan","title":"Persiapan","text":"<p>Pastikan:</p> <ul> <li>Domain sudah mengarah ke IP publik/LoadBalancer.</li> <li>Ingress controller aktif (contoh: Traefik bawaan K3s).</li> <li>Port 80/443 terbuka di firewall.</li> </ul> <p>Buat folder kerja agar manifest rapi:</p> <pre><code>mkdir -p deploy-tools/letsencrypt\ncd deploy-tools/letsencrypt\n</code></pre>"},{"location":"tutorials/002-letsencrypt-cert-manager/#1-install-cert-manager","title":"1. Install cert-manager","text":"<p>Pasang manifest resmi:</p> <pre><code>kubectl apply -f https://github.com/cert-manager/cert-manager/releases/latest/download/cert-manager.yaml\n</code></pre> <p>Tunggu hingga semua Pod siap:</p> <pre><code>kubectl get pods -n cert-manager\n</code></pre> <p>Minimal ada Pod berikut berstatus Running:</p> <pre><code>cert-manager\ncert-manager-webhook\ncert-manager-cainjector\n</code></pre>"},{"location":"tutorials/002-letsencrypt-cert-manager/#2-buat-clusterissuer-lets-encrypt","title":"2. Buat ClusterIssuer (Let's Encrypt)","text":"<p>Simpan sebagai <code>letsencrypt-issuer.yaml</code>:</p> <pre><code>apiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-prod\nspec:\n  acme:\n    email: kamu@email.com # ganti dengan emailmu\n    server: https://acme-v02.api.letsencrypt.org/directory\n    privateKeySecretRef:\n      name: letsencrypt-prod\n    solvers:\n      - http01:\n          ingress:\n            class: traefik\n</code></pre> <p>Terapkan:</p> <pre><code>kubectl apply -f letsencrypt-issuer.yaml\n</code></pre> Catatan untuk tutorial selanjutnya (klik untuk lihat)  Di tutorial yang membutuhkan Ingress, kita akan sering memakai pola konfigurasi seperti ini untuk otomasi TLS. Ini contoh saja, sesuaikan `host`, `service`, dan `secretName` dengan aplikasimu.   <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: nginx-https\n  annotations:\n    kubernetes.io/ingress.class: traefik\n    cert-manager.io/cluster-issuer: letsencrypt-prod\nspec:\n  tls:\n    - hosts:\n        - nginx.yourdomain.com # ganti dengan domain kamu\n      secretName: nginx-tls # cert disimpan di Secret ini\n  rules:\n    - host: nginx.yourdomain.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: nginx\n                port:\n                  number: 80\n</code></pre>   Verifikasi sertifikat setelah apply:   <pre><code>kubectl get certificate\nkubectl describe certificate &lt;nama-secret-tls&gt;\n</code></pre>   - Ganti `` sesuai `secretName` di Ingress. - Status **Ready=True** berarti sertifikat sudah terbit. - Jika masih **Pending**, cek DNS domain dan akses port `80/443`."},{"location":"tutorials/002-letsencrypt-cert-manager/#ringkasan","title":"Ringkasan","text":"<p>Yang sudah kamu lakukan:</p> <ol> <li>Menginstal cert-manager.</li> <li>Membuat <code>ClusterIssuer</code> untuk Let's Encrypt.</li> </ol> <p>Langkah selanjutnya:</p> <ul> <li>How-to Let's Encrypt: 003 - Let's Encrypt (cert-manager) \u2014 versi ringkas tanpa konteks tutorial.</li> <li>Reference Traefik: 001 - Traefik (Ingress K3s) \u2014 acuan konfigurasi Ingress.</li> </ul>"}]}